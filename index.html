<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Final Fantasy XIV Quest Calculator</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
<h1 align="center">The FFXIV Main Scenario Quest Calculator</h1>
<br>
        <h3 align="center">"How many more quests do I have to do?". . .</h3>
               <form class="search-form">
            <input type="text" class="search" placeholder="Quest Name">
            <ul class="results">
              <li>Enter your current quest in the search bar</li>
            </ul>
          </form>
    <script>
      const quests = [
      {
    "Key": 65660,
    "Name": "Close to Home",
    "Id": "ManFst004_00124",
    "Expansion": "A Realm Reborn",
    "ClassJobLevel0": 1,
    "PreviousQuest0": "",
    "PreviousQuest1": "Coming to Gridania",
    "PreviousQuest2": "",
    "NpcResidentStart": "Mother Miounne",
    "PlaceName": "Gridania",
    "JournalGenre": "Seventh Umbral Era",
    "SortKey": 3
  }, {
    "Key": 65564,
    "Name": "To the Bannock",
    "Id": "SubFst005_00028",
    "Expansion": "A Realm Reborn",
    "ClassJobLevel0": 4,
    "PreviousQuest0": "Close to Home",
    "PreviousQuest1": "Close to Home",
    "PreviousQuest2": "Close to Home",
    "NpcResidentStart": "Mother Miounne",
    "PlaceName": "Gridania",
    "JournalGenre": "Seventh Umbral Era",
    "SortKey": 10
  }
      ]
  function findMatches(wordToMatch, quests) {
  return quests.filter(quest => {
    // here we need to figure out if the city or state matches what was searched
    const regex = new RegExp(wordToMatch, 'gi');
    return quest.Name.match(regex)
  });
}
function displayMatches() {
  const matchArray = findMatches(this.value, quests);
  const html = matchArray.map(quest => {
    const regex = new RegExp(this.value, 'gi');
    const questName = quest.Name.replace(regex, `<span class="hl">${this.value}</span>`);
    return `
      <li>
        <span class="Name">${questName}</span>
      </li>
    `;
  }).join('');
  results.innerHTML = html;
}

const searchInput = document.querySelector('.search');
const results = document.querySelector('.results');

searchInput.addEventListener('change', displayMatches);
searchInput.addEventListener('keyup', displayMatches);

    </script>
</body>
</html>